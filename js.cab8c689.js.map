{"version":3,"sources":["js/appConfig.js","js/models/Form.js","js/views/index.js","js/views/formView.js","js/models/Result.js","js/views/resultView.js","js/index.js"],"names":["minInstallmentPercentage","monthlyInterest","Form","minInstallment","Math","ceil","transaction","DOM","body","document","querySelector","transactionInput","getElementById","installmentInput","form","result","resultNumberOfInstallments","resultInstallment","resultIfLast","resultLastInstallment","resultTotalInterest","resultOver","resultTotalPayment","modalInput","modalBG","getTransactionValue","transactionValue","value","getInstallmentValue","installmentValue","renderForm","installment","setAttribute","Result","debt","numberOfInstallments","toFixed","lastInstallment","changeInnerHTML","element","innerHTML","renderResult","classList","remove","style","display","totalPayment","overPay","totalInterest","resultRect","getBoundingClientRect","window","scrollTo","top","y","behavior","state","controlForm","calcMinInstallment","installmentInputValue","controlResult","calculate","addEventListener","e","preventDefault","event","target","className","click"],"mappings":"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","file":"js.cab8c689.js","sourceRoot":"..","sourcesContent":["export const minInstallmentPercentage = 5 / 100;\r\nexport const monthlyInterest = 2.2 / 100;\r\n","import { minInstallmentPercentage } from \"../appConfig\";\r\n\r\nexport default class Form {\r\n  calcMinInstallment() {\r\n    const minInstallment =\r\n      Math.ceil((this.transaction * minInstallmentPercentage) / 10) * 10;\r\n\r\n    return minInstallment;\r\n  }\r\n}\r\n","export const DOM = {\r\n  body: document.querySelector(\"main\"),\r\n  transactionInput: document.getElementById(\"transaction-input\"),\r\n  installmentInput: document.getElementById(\"installment-input\"),\r\n  form: document.getElementById(\"form\"),\r\n  result: document.querySelector('.result'),\r\n  resultNumberOfInstallments: document.getElementById(\"period\"),\r\n  resultInstallment: document.getElementById(\"installment\"),\r\n  resultIfLast: document.getElementById(\"if-last\"),\r\n  resultLastInstallment: document.getElementById(\"last-installment\"),\r\n  resultTotalInterest: document.getElementById(\"total-interest\"),\r\n  resultOver: document.getElementById(\"difference\"),\r\n  resultTotalPayment: document.getElementById(\"total-payment\"),\r\n  modalInput: document.getElementById(\"modal-toggle-input\"),\r\n  modalBG: document.querySelector(\".modal__container\")\r\n};\r\n","import { DOM } from \"./index\";\r\n\r\nexport const getTransactionValue = () => {\r\n  const transactionValue = DOM.transactionInput.value;\r\n  return transactionValue;\r\n};\r\n\r\nexport const getInstallmentValue = () => {\r\n  const installmentValue = DOM.installmentInput.value;\r\n  return installmentValue;\r\n};\r\n\r\nexport const renderForm = (transaction, installment, minInstallment) => {\r\n  DOM.installmentInput.value = installment;\r\n  DOM.installmentInput.setAttribute(\"min\", minInstallment);\r\n  DOM.installmentInput.setAttribute(\"max\", transaction / 2);\r\n};\r\n","import { monthlyInterest } from \"../appConfig\";\r\n\r\nexport default class Result {\r\n  constructor(transaction, installment) {\r\n    this.transaction = transaction;\r\n    this.installment = installment;\r\n    this.debt = transaction;\r\n    this.numberOfInstallments = 0;\r\n  }\r\n\r\n  calculate() {\r\n    while (this.debt !== \"paid\") {\r\n      if (this.debt === this.installment) {\r\n        this.numberOfInstallments++;\r\n        this.debt = \"paid\";\r\n      } else if (this.debt > this.installment) {\r\n        this.debt -= this.installment;\r\n        this.numberOfInstallments++;\r\n        if (this.numberOfInstallments > 1) {\r\n          this.debt += +(this.debt * monthlyInterest).toFixed(2);\r\n        }\r\n      } else if (this.debt < this.installment) {\r\n        this.lastInstallment = Math.ceil(this.debt);\r\n        this.debt = \"paid\";\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { DOM } from \"./index\";\r\n\r\nconst changeInnerHTML = (element, innerHTML) => {\r\n  DOM[element].innerHTML = innerHTML;\r\n};\r\n\r\nexport const renderResult = (\r\n  transaction,\r\n  installment,\r\n  lastInstallment,\r\n  numberOfInstallments\r\n) => {\r\n  DOM.body.classList.remove(\"initial\", \"center\");\r\n\r\n  changeInnerHTML(\"resultNumberOfInstallments\", numberOfInstallments);\r\n  changeInnerHTML(\"resultInstallment\", installment);\r\n\r\n  if (lastInstallment === 0) {\r\n    DOM.resultIfLast.style.display = \"none\";\r\n  } else {\r\n    changeInnerHTML(\"resultLastInstallment\", lastInstallment);\r\n    DOM.resultIfLast.style.display = \"inline\";\r\n  }\r\n\r\n  const totalPayment = installment * numberOfInstallments + lastInstallment;\r\n  const overPay = totalPayment - transaction;\r\n  const totalInterest = ((overPay / transaction) * 100).toFixed(2) + \"%\";\r\n\r\n  changeInnerHTML(\"resultTotalInterest\", totalInterest);\r\n  changeInnerHTML(\"resultOver\", overPay);\r\n  changeInnerHTML(\"resultTotalPayment\", totalPayment);\r\n\r\n  const resultRect = DOM.result.getBoundingClientRect();\r\n  window.scrollTo({\r\n    top: resultRect.y,\r\n    behavior: \"smooth\"\r\n  });\r\n};\r\n","import Form from './models/Form'\r\nimport { getTransactionValue, getInstallmentValue, renderForm } from './views/formView'\r\nimport Result from './models/Result'\r\nimport { renderResult } from './views/resultView'\r\nimport { DOM } from './views'\r\n\r\n// Global state\r\nconst state = {}\r\n\r\n// Form Controller\r\nconst controlForm = () => {\r\n  if (!state.form) state.form = new Form()\r\n\r\n  state.form.transaction = +getTransactionValue()\r\n  state.form.minInstallment = state.form.calcMinInstallment()\r\n\r\n  const installmentInputValue = +getInstallmentValue()\r\n\r\n  state.form.installment =\r\n    installmentInputValue === '' || installmentInputValue < state.form.minInstallment\r\n      ? state.form.minInstallment\r\n      : installmentInputValue\r\n\r\n  const { transaction, installment, minInstallment } = state.form\r\n\r\n  renderForm(transaction, installment, minInstallment)\r\n}\r\n\r\n// Result controller\r\nconst controlResult = () => {\r\n  state.result = new Result(state.form.transaction, state.form.installment)\r\n\r\n  state.result.calculate()\r\n  renderResult(\r\n    state.result.transaction,\r\n    state.result.installment,\r\n    state.result.lastInstallment,\r\n    state.result.numberOfInstallments\r\n  )\r\n}\r\n\r\n// Event listeners\r\nDOM.transactionInput.addEventListener('change', () => {\r\n  controlForm()\r\n})\r\n\r\nDOM.form.addEventListener('submit', e => {\r\n  e.preventDefault()\r\n  controlForm()\r\n  controlResult()\r\n})\r\n\r\nDOM.modalBG.addEventListener('click', () => {\r\n  if (event.target.className === 'modal__container') {\r\n    DOM.modalInput.click()\r\n  }\r\n})"]}